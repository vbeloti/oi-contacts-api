{
  "openapi": "3.0.1",
  "info": {
    "version": "1.3.0",
    "title": "Open Food Facts",
    "description": "Open Food Facts API",
    "termsOfService": "http://api_url/terms/",
    "license": {
      "name": "Apache 2.0",
      "url": "https://www.apache.org/licenses/LICENSE-2.0.html"
    }
  },
  "servers": [
    {
      "url": "https://oi-contacts.herokuapp.com",
      "description": "Production Server"
    },
    {
      "url": "http://localhost:3333/",
      "description": "Local server"
    }
  ],
  "paths": {
    "/contacts": {
      "post": {
        "description": "Create a new Contact",
        "operationId": "createContact",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {}
          },
          "400": {
            "description": "Invalid parameters!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "message": "nvalid parameters",
                  "status": "error"
                }
              }
            }
          }
        }
      }
    },
    "/contacts/{id}": {
      "put": {
        "description": "Update a new Contact",
        "operationId": "updateContact",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContactCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {}
          },
          "400": {
            "description": "Invalid parameters!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "message": "nvalid parameters",
                  "status": "error"
                }
              }
            }
          }
        }
      }
    },
    "/contacts": {
      "get": {
        "description": "Get the contacts",
        "operationId": "getContacts",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/pageP"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/limitP"
            }
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/typeP"
            }
          },
          {
            "name": "document",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/documentP"
            }
          },
          {
            "name": "state",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/stateP"
            }
          },
          {
            "name": "city",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/cityP"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The contacts information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Contacts"
                }
              }
            }
          },
          "400": {
            "description": "No Contacts!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "message": "There are no contacts",
                  "status": "error"
                }
              }
            }
          }
        }
      }
    },
    "/contact/{id}": {
      "delete": {
        "description": "Delete the contact",
        "operationId": "deleteContact",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The contact information",
            "content": ""
          },
          "400": {
            "description": "No Contact!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                },
                "example": {
                  "message": "There are no contact",
                  "status": "error"
                }
              }
            }
          }
        }
      }
    },
    "/ufs": {
      "get": {
        "description": "Get the ufs",
        "operationId": "getUfs",
        "parameters": [],
        "responses": {
          "200": {
            "description": "The ufs information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Ufs"
                }
              }
            }
          },
          "500": {
            "description": "Error!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/ufs/{id}": {
      "get": {
        "description": "Get the cities",
        "operationId": "getCities",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The ufs information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Ufs"
                }
              }
            }
          },
          "500": {
            "description": "Error!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "pageP": {
        "type": "number",
        "example": ""
      },
      "limitP": {
        "type": "number",
        "example": ""
      },
      "typeP": {
        "type": "string",
        "example": ""
      },
      "documentP": {
        "type": "string",
        "example": ""
      },
      "stateP": {
        "type": "string",
        "example": ""
      },
      "cityP": {
        "type": "string",
        "example": ""
      },
      "id": {
        "type": "string",
        "example": "5fb44a83f0f8ac1fe0cf0da1"
      },
      "name": {
        "type": "string",
        "example": "Any Name"
      },
      "type": {
        "type": "string",
        "example": "cpf"
      },
      "document": {
        "type": "string",
        "example": "12312312312"
      },
      "state": {
        "type": "string",
        "example": "SP"
      },
      "city": {
        "type": "string",
        "example": "SÃ£o Paulo"
      },
      "birthday": {
        "type": "string",
        "example": "1979-11-16T22:10:49.000Z"
      },
      "phone": {
        "type": "string",
        "example": "(56) 15151-5155"
      },
      "created_at": {
        "type": "string",
        "example": "2020-11-17T22:11:15.302Z"
      },
      "updated_at": {
        "type": "string",
        "example": "2020-11-17T22:11:15.302Z"
      },
      "uf_name": {
        "type": "string",
        "example": "SP"
      },
      "Contacts": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "_id": {
              "$ref": "#/components/schemas/id"
            },
            "name": {
              "$ref": "#/components/schemas/name"
            },
            "type": {
              "$ref": "#/components/schemas/type"
            },
            "document": {
              "$ref": "#/components/schemas/document"
            },
            "state": {
              "$ref": "#/components/schemas/state"
            },
            "city": {
              "$ref": "#/components/schemas/city"
            },
            "birthday": {
              "$ref": "#/components/schemas/birthday"
            },
            "phone": {
              "$ref": "#/components/schemas/phone"
            },
            "created_at": {
              "$ref": "#/components/schemas/payment"
            },
            "updated_at": {
              "$ref": "#/components/schemas/payment"
            }
          }
        }
      },
      "Contact": {
        "type": "object",
        "properties": {
          "_id": {
            "$ref": "#/components/schemas/id"
          },
          "name": {
            "$ref": "#/components/schemas/name"
          },
          "type": {
            "$ref": "#/components/schemas/type"
          },
          "document": {
            "$ref": "#/components/schemas/document"
          },
          "state": {
            "$ref": "#/components/schemas/state"
          },
          "city": {
            "$ref": "#/components/schemas/city"
          },
          "birthday": {
            "$ref": "#/components/schemas/birthday"
          },
          "phone": {
            "$ref": "#/components/schemas/phone"
          },
          "created_at": {
            "$ref": "#/components/schemas/payment"
          },
          "updated_at": {
            "$ref": "#/components/schemas/payment"
          }
        }
      },
      "ContactCreated": {
        "type": "object",
        "properties": {
          "name": {
            "$ref": "#/components/schemas/name"
          },
          "type": {
            "$ref": "#/components/schemas/type"
          },
          "document": {
            "$ref": "#/components/schemas/document"
          },
          "state": {
            "$ref": "#/components/schemas/state"
          },
          "city": {
            "$ref": "#/components/schemas/city"
          },
          "birthday": {
            "$ref": "#/components/schemas/birthday"
          },
          "phone": {
            "$ref": "#/components/schemas/phone"
          }
        }
      },
      "Ufs": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "_id": {
              "$ref": "#/components/schemas/id"
            },
            "uf_name": {
              "$ref": "#/components/schemas/uf_name"
            }
          }
        }
      },
      "Error": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string"
          },
          "message": {
            "type": "string"
          }
        }
      }
    }
  }
}
